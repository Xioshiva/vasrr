attribute vec3 position,normal;attribute vec4 tangent;attribute vec2 uv;uniform mat4 worldViewProjection,world,worldView;varying vec4 vPosition;varying vec3 vNormal;varying vec2 vUv;varying vec3 posEye;varying mat3 vTBN;void main(){vec4 v=vec4(position,1.);vPosition=v;vNormal=normal;vUv=uv;posEye=vec3(worldView*vPosition);vec3 n=normalize(normal),l=normalize(tangent.xyz),w=cross(n,l);vTBN=mat3(world)*mat3(w,l,n);gl_Position=worldViewProjection*v;}